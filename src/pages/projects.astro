---
import BaseLayout from "../layouts/BaseLayout.astro";

const projects = [
  {
    title: "Brownian Crystallisation",
    category: "Physics",
    poster: "/images/crystallisation-static.png",
    video: "/images/crystallisation.mp4",
    link: "/projects/crystallisation"
  },
  {
    title: "Two-Stream Instability Simulation",
    category: "Physics",
    poster: "/images/twostream-static.png",
    video: "/images/twostream.mp4",
    link: "/projects/plasma"
  },
{
    title: "Low-Temperature AFM Instrumentation",
    category: "Engineering",
    poster: "/images/afm-static.png",
    video: "/images/afm.mp4",
    link: "/projects/afm"
  },

  {
    title: "Trust in Science Survey Analysis",
    category: "Data Science",
    poster: "/images/trust-static.png",
    video: "/images/trust.mp4",
    link: "/projects/trust"
  }
];
---

<BaseLayout title="Projects">
  <section class="projects-container">
    {projects.map(project => (
      <a href={project.link} class="project-card">
  <div class="project-media">
    <video
      class="project-video"
      src={project.video}
      poster={project.poster}
      muted
      loop
      playsinline
      preload="none"
    ></video>
  </div>

         <h3 class="project-title">{project.title}</h3>
  <span
  class={`project-category badge badge-${project.category.toLowerCase().replace(/\s+/g, "-")}`}
>
  {project.category}
</span>
</a>
    ))}
  </section>
</BaseLayout>

<script>
  document.querySelectorAll(".project-video").forEach(video => {
    video.addEventListener("mouseenter", () => {
      video.currentTime = 0;
      video.play();
    });

    video.addEventListener("mouseleave", () => {
      video.pause();
      video.currentTime = 0;
    });
  });
</script>